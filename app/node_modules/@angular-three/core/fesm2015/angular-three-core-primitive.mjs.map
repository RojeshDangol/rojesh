{"version":3,"file":"angular-three-core-primitive.mjs","sources":["../../../../packages/core/primitive/src/lib/primitive.directive.ts","../../../../packages/core/primitive/src/angular-three-core-primitive.ts"],"sourcesContent":["import {\n  NGT_OBJECT_CONTROLLER_PROVIDER,\n  NGT_OBJECT_WATCHED_CONTROLLER,\n  NgtObject3dController,\n} from '@angular-three/core';\nimport { Directive, Inject, Input, NgModule, NgZone } from '@angular/core';\nimport * as THREE from 'three';\n\n@Directive({\n  selector: 'ngt-primitive[object]',\n  exportAs: 'ngtPrimitive',\n  providers: [NGT_OBJECT_CONTROLLER_PROVIDER],\n})\nexport class NgtPrimitive {\n  #object!: THREE.Object3D;\n\n  @Input() set object(value: THREE.Object3D) {\n    this.#object = value;\n    this.objectController.initFn = () => value;\n  }\n\n  get object() {\n    return this.#object;\n  }\n\n  constructor(\n    @Inject(NGT_OBJECT_WATCHED_CONTROLLER)\n    private objectController: NgtObject3dController,\n    private ngZone: NgZone\n  ) {}\n\n  ngOnChanges() {\n    this.ngZone.runOutsideAngular(() => {\n      this.objectController.init();\n    });\n  }\n}\n\n@NgModule({\n  declarations: [NgtPrimitive],\n  exports: [NgtPrimitive],\n})\nexport class NgtPrimitiveModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;MAaa,YAAY;IAYvB,YAEU,gBAAuC,EACvC,MAAc;QADd,qBAAgB,GAAhB,gBAAgB,CAAuB;QACvC,WAAM,GAAN,MAAM,CAAQ;QAdxB,uCAAyB;KAerB;IAbJ,IAAa,MAAM,CAAC,KAAqB;QACvC,uBAAA,IAAI,wBAAW,KAAK,MAAA,CAAC;QACrB,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,MAAM,KAAK,CAAC;KAC5C;IAED,IAAI,MAAM;QACR,OAAO,uBAAA,IAAI,4BAAQ,CAAC;KACrB;IAQD,WAAW;QACT,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC5B,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;SAC9B,CAAC,CAAC;KACJ;;;yGAtBU,YAAY,kBAab,6BAA6B;6FAb5B,YAAY,8EAFZ,CAAC,8BAA8B,CAAC;2FAEhC,YAAY;kBALxB,SAAS;mBAAC;oBACT,QAAQ,EAAE,uBAAuB;oBACjC,QAAQ,EAAE,cAAc;oBACxB,SAAS,EAAE,CAAC,8BAA8B,CAAC;iBAC5C;;;8BAcI,MAAM;+BAAC,6BAA6B;;yBAV1B,MAAM;sBAAlB,KAAK;;MA0BK,kBAAkB;;+GAAlB,kBAAkB;gHAAlB,kBAAkB,iBA7BlB,YAAY,aAAZ,YAAY;gHA6BZ,kBAAkB;2FAAlB,kBAAkB;kBAJ9B,QAAQ;mBAAC;oBACR,YAAY,EAAE,CAAC,YAAY,CAAC;oBAC5B,OAAO,EAAE,CAAC,YAAY,CAAC;iBACxB;;;ACzCD;;;;;;"}