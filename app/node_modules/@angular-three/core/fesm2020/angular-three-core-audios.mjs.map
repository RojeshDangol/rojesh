{"version":3,"file":"angular-three-core-audios.mjs","sources":["../../../../packages/core/audios/src/lib/audio/audio.directive.ts","../../../../packages/core/audios/src/lib/positional-audio/positional-audio.directive.ts","../../../../packages/core/audios/src/lib/audio-listener/audio-listener.directive.ts","../../../../packages/core/audios/src/index.ts","../../../../packages/core/audios/src/angular-three-core-audios.ts"],"sourcesContent":["// GENERATED\nimport {\n  NgtCommonAudio,\n  NGT_AUDIO_CONTROLLER_PROVIDER,\n  NGT_OBJECT_CONTROLLER_PROVIDER,\n} from '@angular-three/core';\nimport { NgModule, Directive } from '@angular/core';\nimport * as THREE from 'three';\n\n@Directive({\n  selector: 'ngt-audio',\n  exportAs: 'ngtAudio',\n  providers: [\n    {\n      provide: NgtCommonAudio,\n      useExisting: NgtAudio,\n    },\n    NGT_AUDIO_CONTROLLER_PROVIDER,\n    NGT_OBJECT_CONTROLLER_PROVIDER,\n  ],\n})\nexport class NgtAudio extends NgtCommonAudio<GainNode, THREE.Audio> {\n  audioType = THREE.Audio;\n}\n\n@NgModule({\n  declarations: [NgtAudio],\n  exports: [NgtAudio],\n})\nexport class NgtAudioModule {}\n","// GENERATED\nimport {\n  NgtCommonAudio,\n  NGT_AUDIO_CONTROLLER_PROVIDER,\n  NGT_OBJECT_CONTROLLER_PROVIDER,\n} from '@angular-three/core';\nimport { NgModule, Directive } from '@angular/core';\nimport * as THREE from 'three';\n\n@Directive({\n  selector: 'ngt-positional-audio',\n  exportAs: 'ngtPositionalAudio',\n  providers: [\n    {\n      provide: NgtCommonAudio,\n      useExisting: NgtPositionalAudio,\n    },\n    NGT_AUDIO_CONTROLLER_PROVIDER,\n    NGT_OBJECT_CONTROLLER_PROVIDER,\n  ],\n})\nexport class NgtPositionalAudio extends NgtCommonAudio<\n  PannerNode,\n  THREE.PositionalAudio\n> {\n  audioType = THREE.PositionalAudio;\n}\n\n@NgModule({\n  declarations: [NgtPositionalAudio],\n  exports: [NgtPositionalAudio],\n})\nexport class NgtPositionalAudioModule {}\n","import { applyProps, EnhancedRxState, NgtStore } from '@angular-three/core';\nimport {\n  Directive,\n  EventEmitter,\n  Input,\n  NgModule,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport * as THREE from 'three';\n\n@Directive({\n  selector: 'ngt-audio-listener',\n  exportAs: 'ngtAudioListener',\n})\nexport class NgtAudioListener extends EnhancedRxState implements OnInit {\n  @Input() filter?: AudioNode;\n  @Input() timeDelta?: number;\n\n  @Output() ready = new EventEmitter();\n\n  #listener!: THREE.AudioListener;\n  get listener() {\n    return this.#listener;\n  }\n\n  constructor(private store: NgtStore) {\n    super();\n  }\n\n  ngOnInit() {\n    this.#listener = new THREE.AudioListener();\n    const props = {\n      filter: this.filter,\n      timeDelta: this.timeDelta,\n    };\n    applyProps(this.listener, props);\n    this.holdEffect(this.store.select('ready'), (ready) => {\n      const camera = this.store.get('camera');\n      if (ready && camera) {\n        camera.add(this.listener);\n        this.ready.emit();\n      }\n\n      return () => {\n        if (ready && camera) {\n          this.listener.clear();\n          camera.remove(this.listener);\n        }\n      };\n    });\n  }\n}\n\n@NgModule({\n  declarations: [NgtAudioListener],\n  exports: [NgtAudioListener],\n})\nexport class NgtAudioListenerModule {}\n","// GENERATED\nexport * from './lib/audio/audio.directive';\nexport * from './lib/positional-audio/positional-audio.directive';\nexport * from './lib/audio-listener/audio-listener.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;AAAA;MAqBa,QAAS,SAAQ,cAAqC;IAZnE;;QAaE,cAAS,GAAG,KAAK,CAAC,KAAK,CAAC;KACzB;;qGAFY,QAAQ;yFAAR,QAAQ,oCATR;QACT;YACE,OAAO,EAAE,cAAc;YACvB,WAAW,EAAE,QAAQ;SACtB;QACD,6BAA6B;QAC7B,8BAA8B;KAC/B;2FAEU,QAAQ;kBAZpB,SAAS;mBAAC;oBACT,QAAQ,EAAE,WAAW;oBACrB,QAAQ,EAAE,UAAU;oBACpB,SAAS,EAAE;wBACT;4BACE,OAAO,EAAE,cAAc;4BACvB,WAAW,UAAU;yBACtB;wBACD,6BAA6B;wBAC7B,8BAA8B;qBAC/B;iBACF;;MASY,cAAc;;2GAAd,cAAc;4GAAd,cAAc,iBARd,QAAQ,aAAR,QAAQ;4GAQR,cAAc;2FAAd,cAAc;kBAJ1B,QAAQ;mBAAC;oBACR,YAAY,EAAE,CAAC,QAAQ,CAAC;oBACxB,OAAO,EAAE,CAAC,QAAQ,CAAC;iBACpB;;;AC5BD;MAqBa,kBAAmB,SAAQ,cAGvC;IAfD;;QAgBE,cAAS,GAAG,KAAK,CAAC,eAAe,CAAC;KACnC;;+GALY,kBAAkB;mGAAlB,kBAAkB,+CATlB;QACT;YACE,OAAO,EAAE,cAAc;YACvB,WAAW,EAAE,kBAAkB;SAChC;QACD,6BAA6B;QAC7B,8BAA8B;KAC/B;2FAEU,kBAAkB;kBAZ9B,SAAS;mBAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,QAAQ,EAAE,oBAAoB;oBAC9B,SAAS,EAAE;wBACT;4BACE,OAAO,EAAE,cAAc;4BACvB,WAAW,oBAAoB;yBAChC;wBACD,6BAA6B;wBAC7B,8BAA8B;qBAC/B;iBACF;;MAYY,wBAAwB;;qHAAxB,wBAAwB;sHAAxB,wBAAwB,iBAXxB,kBAAkB,aAAlB,kBAAkB;sHAWlB,wBAAwB;2FAAxB,wBAAwB;kBAJpC,QAAQ;mBAAC;oBACR,YAAY,EAAE,CAAC,kBAAkB,CAAC;oBAClC,OAAO,EAAE,CAAC,kBAAkB,CAAC;iBAC9B;;;;MChBY,gBAAiB,SAAQ,eAAe;IAWnD,YAAoB,KAAe;QACjC,KAAK,EAAE,CAAC;QADU,UAAK,GAAL,KAAK,CAAU;QAPzB,UAAK,GAAG,IAAI,YAAY,EAAE,CAAC;QAErC,6CAAgC;KAO/B;IAND,IAAI,QAAQ;QACV,OAAO,uBAAA,IAAI,kCAAU,CAAC;KACvB;IAMD,QAAQ;QACN,uBAAA,IAAI,8BAAa,IAAI,KAAK,CAAC,aAAa,EAAE,MAAA,CAAC;QAC3C,MAAM,KAAK,GAAG;YACZ,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,SAAS,EAAE,IAAI,CAAC,SAAS;SAC1B,CAAC;QACF,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK;YAChD,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxC,IAAI,KAAK,IAAI,MAAM,EAAE;gBACnB,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;aACnB;YAED,OAAO;gBACL,IAAI,KAAK,IAAI,MAAM,EAAE;oBACnB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;oBACtB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC9B;aACF,CAAC;SACH,CAAC,CAAC;KACJ;;;6GApCU,gBAAgB;iGAAhB,gBAAgB;2FAAhB,gBAAgB;kBAJ5B,SAAS;mBAAC;oBACT,QAAQ,EAAE,oBAAoB;oBAC9B,QAAQ,EAAE,kBAAkB;iBAC7B;+FAEU,MAAM;sBAAd,KAAK;gBACG,SAAS;sBAAjB,KAAK;gBAEI,KAAK;sBAAd,MAAM;;MAuCI,sBAAsB;;mHAAtB,sBAAsB;oHAAtB,sBAAsB,iBA3CtB,gBAAgB,aAAhB,gBAAgB;oHA2ChB,sBAAsB;2FAAtB,sBAAsB;kBAJlC,QAAQ;mBAAC;oBACR,YAAY,EAAE,CAAC,gBAAgB,CAAC;oBAChC,OAAO,EAAE,CAAC,gBAAgB,CAAC;iBAC5B;;;ACzDD;;ACAA;;;;;;"}