var _NgtObject3dController_instances, _NgtObject3dController_object3d, _NgtObject3dController_inputChangesSubscription, _NgtObject3dController_object3dInputsController, _NgtObject3dController_initFn, _NgtObject3dController_objectReady, _NgtObject3dController_appendToParent, _NgtObject3dController_addToScene, _NgtObject3dController_addToParent, _NgtObject3dController_remove, _NgtObject3dController_eventNameToHandler, _NgtObject3dController_applyCustomProps;
import { __classPrivateFieldGet, __classPrivateFieldSet } from "tslib";
// GENERATED
import { Directive, EventEmitter, Inject, NgModule, NgZone, Optional, Output, SkipSelf, } from '@angular/core';
import { setTimeout } from '@rx-angular/cdk/zone-less';
import { take } from 'rxjs';
import { NgtEventsStore } from '../stores/events.store';
import { NgtStore } from '../stores/store';
import { applyProps } from '../utils/apply-props';
import { NGT_ANIMATION_SUBSCRIBER_CONTROLLER_PROVIDER, NGT_ANIMATION_SUBSCRIBER_WATCHED_CONTROLLER, NgtAnimationSubscriberController, } from './animation-subscriber.controller';
import { Controller, createControllerProviderFactory } from './controller';
import { NGT_OBJECT_INPUTS_CONTROLLER_PROVIDER, NGT_OBJECT_INPUTS_WATCHED_CONTROLLER, NgtObject3dInputsController, } from './object-3d-inputs.controller';
import * as i0 from "@angular/core";
import * as i1 from "../stores/store";
import * as i2 from "../stores/events.store";
import * as i3 from "./object-3d-inputs.controller";
import * as i4 from "./animation-subscriber.controller";
const supportedEvents = [
    'click',
    'contextmenu',
    'dblclick',
    'pointerup',
    'pointerdown',
    'pointerover',
    'pointerout',
    'pointerenter',
    'pointerleave',
    'pointermove',
    'pointermissed',
    'pointercancel',
    'wheel',
];
export class NgtObject3dController extends Controller {
    constructor(ngZone, store, eventsStore, objectInputsController, animationSubscriberController, parentObject3d) {
        super(ngZone);
        this.store = store;
        this.eventsStore = eventsStore;
        this.objectInputsController = objectInputsController;
        this.animationSubscriberController = animationSubscriberController;
        this.parentObject3d = parentObject3d;
        _NgtObject3dController_instances.add(this);
        this.ready = new EventEmitter();
        _NgtObject3dController_object3d.set(this, void 0);
        _NgtObject3dController_inputChangesSubscription.set(this, void 0);
        _NgtObject3dController_object3dInputsController.set(this, void 0);
        _NgtObject3dController_initFn.set(this, void 0);
    }
    set initFn(v) {
        __classPrivateFieldSet(this, _NgtObject3dController_initFn, v, "f");
    }
    get initFn() {
        if (!__classPrivateFieldGet(this, _NgtObject3dController_initFn, "f")) {
            this.initFn = () => this.object3d;
        }
        return __classPrivateFieldGet(this, _NgtObject3dController_initFn, "f");
    }
    ngOnInit() {
        __classPrivateFieldSet(this, _NgtObject3dController_object3dInputsController, this.objectInputsController.object3dInputsController ??
            this.objectInputsController, "f");
        super.ngOnInit();
        __classPrivateFieldSet(this, _NgtObject3dController_inputChangesSubscription, __classPrivateFieldGet(this, _NgtObject3dController_object3dInputsController, "f").change$.subscribe(() => {
            if (this.object3d) {
                __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_applyCustomProps).call(this);
            }
        }), "f");
    }
    init() {
        this.ngZone.runOutsideAngular(() => {
            __classPrivateFieldSet(this, _NgtObject3dController_object3d, this.initFn(), "f");
            if (this.object3d) {
                __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_applyCustomProps).call(this);
                if (!this.disabled) {
                    const observedEvents = supportedEvents.reduce((result, event) => {
                        if (this.objectInputsController[event].observed) {
                            result.handlers[event] = __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_eventNameToHandler).call(this, event);
                            result.eventCount += 1;
                        }
                        return result;
                    }, { handlers: {}, eventCount: 0 });
                    // setup __ngt instance
                    applyProps(this.object3d, {
                        __ngt: {
                            stateGetter: () => this.store.get(),
                            eventsStateGetter: () => this.eventsStore.get(),
                            handlers: observedEvents.handlers,
                            eventCount: observedEvents.eventCount,
                            linear: this.store.get('linear'),
                        },
                    });
                    // add as an interaction if there are events observed
                    if (observedEvents.eventCount > 0) {
                        this.eventsStore.addInteraction(this.object3d);
                    }
                    this.store.set((state) => ({
                        ...state,
                        objects: { ...state.objects, [this.object3d.uuid]: this.object3d },
                    }));
                    if (this.objectInputsController.appendMode !== 'none') {
                        __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_appendToParent).call(this);
                    }
                }
                __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_objectReady).call(this);
            }
        });
    }
    ngOnDestroy() {
        if (__classPrivateFieldGet(this, _NgtObject3dController_inputChangesSubscription, "f")) {
            __classPrivateFieldGet(this, _NgtObject3dController_inputChangesSubscription, "f").unsubscribe();
        }
        if (this.object3d) {
            __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_remove).call(this);
            this.store.set((state) => {
                const { [this.object3d.uuid]: _, ...objects } = state.objects;
                return { ...state, objects };
            });
            this.eventsStore.removeInteraction(this.object3d.uuid);
        }
    }
    get object3d() {
        return __classPrivateFieldGet(this, _NgtObject3dController_object3d, "f");
    }
    get controller() {
        return undefined;
    }
    get props() {
        return [];
    }
}
_NgtObject3dController_object3d = new WeakMap(), _NgtObject3dController_inputChangesSubscription = new WeakMap(), _NgtObject3dController_object3dInputsController = new WeakMap(), _NgtObject3dController_initFn = new WeakMap(), _NgtObject3dController_instances = new WeakSet(), _NgtObject3dController_objectReady = function _NgtObject3dController_objectReady() {
    this.ready.emit();
    if (this.animationSubscriberController) {
        this.animationSubscriberController.prepare(this.object3d);
    }
}, _NgtObject3dController_appendToParent = function _NgtObject3dController_appendToParent() {
    // Schedule this in the next loop to allow for all appendTo's to settle
    // TODO: find better way
    setTimeout(() => {
        if (this.objectInputsController.appendTo) {
            this.objectInputsController.appendTo.add(this.object3d);
            return;
        }
        if (this.objectInputsController.appendMode === 'root') {
            __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_addToScene).call(this);
            return;
        }
        if (this.objectInputsController.appendMode === 'immediate') {
            __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_addToParent).call(this);
        }
    });
}, _NgtObject3dController_addToScene = function _NgtObject3dController_addToScene() {
    const scene = this.store.get('scene');
    if (scene) {
        scene.add(this.object3d);
    }
}, _NgtObject3dController_addToParent = function _NgtObject3dController_addToParent() {
    if (this.parentObject3d) {
        this.parentObject3d.object3d.add(this.object3d);
    }
    else {
        __classPrivateFieldGet(this, _NgtObject3dController_instances, "m", _NgtObject3dController_addToScene).call(this);
    }
}, _NgtObject3dController_remove = function _NgtObject3dController_remove() {
    if (this.objectInputsController.appendTo) {
        this.objectInputsController.appendTo.remove(this.object3d);
    }
    else if (this.parentObject3d &&
        this.objectInputsController.appendMode === 'immediate') {
        this.parentObject3d.object3d.remove(this.object3d);
    }
    else {
        const scene = this.store.get('scene');
        if (scene) {
            scene.remove(this.object3d);
        }
    }
    if (this.object3d.clear) {
        this.object3d.clear();
    }
}, _NgtObject3dController_eventNameToHandler = function _NgtObject3dController_eventNameToHandler(eventName) {
    return (event) => {
        this.ngZone.run(() => {
            this.objectInputsController[eventName].emit(event);
        });
    };
}, _NgtObject3dController_applyCustomProps = function _NgtObject3dController_applyCustomProps() {
    this.ngZone.runOutsideAngular(() => {
        const customProps = {
            castShadow: this.objectInputsController.castShadow,
            receiveShadow: this.objectInputsController.receiveShadow,
            visible: this.objectInputsController.visible,
            matrixAutoUpdate: this.objectInputsController.matrixAutoUpdate,
        };
        if (this.objectInputsController.name) {
            customProps['name'] = this.objectInputsController.name;
        }
        if (this.objectInputsController.position) {
            customProps['position'] = this.objectInputsController.position;
        }
        if (this.objectInputsController.rotation) {
            customProps['rotation'] = this.objectInputsController.rotation;
        }
        else if (this.objectInputsController.quaternion) {
            customProps['quaternion'] = this.objectInputsController.quaternion;
        }
        if (this.objectInputsController.scale) {
            customProps['scale'] = this.objectInputsController.scale;
        }
        if (this.objectInputsController.userData) {
            customProps['userData'] = this.objectInputsController.userData;
        }
        if (this.objectInputsController.color) {
            customProps['color'] = this.objectInputsController.color;
            if (!this.store.get('linear')) {
                customProps['color'].convertSRGBToLinear();
            }
        }
        if (this.objectInputsController.dispose) {
            customProps['dispose'] = this.objectInputsController.dispose;
        }
        if (this.objectInputsController.raycast) {
            customProps['raycast'] = this.objectInputsController.raycast;
        }
        this.objectInputsController.change$.pipe(take(1)).subscribe((changes) => {
            if (changes) {
                for (const [inputName, inputChange] of Object.entries(changes)) {
                    if (!inputChange.isFirstChange() ||
                        [
                            'name',
                            'position',
                            'rotation',
                            'quaternion',
                            'scale',
                            'userData',
                            'color',
                            'dispose',
                            'raycast',
                            'castShadow',
                            'receiveShadow',
                            'visible',
                            'matrixAutoUpdate',
                            'object3dController',
                        ].includes(inputName) // skip 14 common inputs
                    ) {
                        continue;
                    }
                    customProps[inputName] = inputChange.currentValue;
                }
            }
        });
        applyProps(this.object3d, customProps);
        this.object3d.updateMatrix?.();
    });
};
NgtObject3dController.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtObject3dController, deps: [{ token: i0.NgZone }, { token: i1.NgtStore }, { token: i2.NgtEventsStore }, { token: NGT_OBJECT_INPUTS_WATCHED_CONTROLLER }, { token: NGT_ANIMATION_SUBSCRIBER_WATCHED_CONTROLLER }, { token: NgtObject3dController, optional: true, skipSelf: true }], target: i0.ɵɵFactoryTarget.Directive });
NgtObject3dController.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.0.3", type: NgtObject3dController, selector: "\n    ngt-primitive,\n    ngt-bone,\n    ngt-group,\n    ngt-lod,\n    ngt-points,\n    ngt-mesh,\n    ngt-instanced-mesh,\n    ngt-skinned-mesh,\n    ngt-audio,\n    ngt-positional-audio,\n    ngt-line,\n    ngt-line-loop,\n    ngt-line-segments,\n    ngt-light-probe,\n    ngt-ambient-light,\n    ngt-ambient-light-probe,\n    ngt-hemisphere-light,\n    ngt-hemisphere-light-probe,\n    ngt-directional-light,\n    ngt-point-light,\n    ngt-spot-light,\n    ngt-rect-area-light,\n    ngt-arrow-helper,\n    ngt-axes-helper,\n    ngt-box3-helper,\n    ngt-grid-helper,\n    ngt-plane-helper,\n    ngt-polar-grid-helper,\n    ngt-sprite,\n    ngt-camera,\n    ngt-perspective-camera,\n    ngt-orthographic-camera,\n    ngt-array-camera,\n    ngt-stereo-camera,\n    ngt-cube-camera\n  ", outputs: { ready: "ready" }, providers: [
        NGT_OBJECT_INPUTS_CONTROLLER_PROVIDER,
        NGT_ANIMATION_SUBSCRIBER_CONTROLLER_PROVIDER,
    ], exportAs: ["ngtObject3dController"], usesInheritance: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtObject3dController, decorators: [{
            type: Directive,
            args: [{
                    selector: `
    ngt-primitive,
    ngt-bone,
    ngt-group,
    ngt-lod,
    ngt-points,
    ngt-mesh,
    ngt-instanced-mesh,
    ngt-skinned-mesh,
    ngt-audio,
    ngt-positional-audio,
    ngt-line,
    ngt-line-loop,
    ngt-line-segments,
    ngt-light-probe,
    ngt-ambient-light,
    ngt-ambient-light-probe,
    ngt-hemisphere-light,
    ngt-hemisphere-light-probe,
    ngt-directional-light,
    ngt-point-light,
    ngt-spot-light,
    ngt-rect-area-light,
    ngt-arrow-helper,
    ngt-axes-helper,
    ngt-box3-helper,
    ngt-grid-helper,
    ngt-plane-helper,
    ngt-polar-grid-helper,
    ngt-sprite,
    ngt-camera,
    ngt-perspective-camera,
    ngt-orthographic-camera,
    ngt-array-camera,
    ngt-stereo-camera,
    ngt-cube-camera
  `,
                    exportAs: 'ngtObject3dController',
                    providers: [
                        NGT_OBJECT_INPUTS_CONTROLLER_PROVIDER,
                        NGT_ANIMATION_SUBSCRIBER_CONTROLLER_PROVIDER,
                    ],
                }]
        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: i1.NgtStore }, { type: i2.NgtEventsStore }, { type: i3.NgtObject3dInputsController, decorators: [{
                    type: Inject,
                    args: [NGT_OBJECT_INPUTS_WATCHED_CONTROLLER]
                }] }, { type: i4.NgtAnimationSubscriberController, decorators: [{
                    type: Inject,
                    args: [NGT_ANIMATION_SUBSCRIBER_WATCHED_CONTROLLER]
                }] }, { type: NgtObject3dController, decorators: [{
                    type: Optional
                }, {
                    type: SkipSelf
                }] }]; }, propDecorators: { ready: [{
                type: Output
            }] } });
export class NgtObject3dControllerModule {
}
NgtObject3dControllerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtObject3dControllerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
NgtObject3dControllerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtObject3dControllerModule, declarations: [NgtObject3dController], exports: [NgtObject3dController] });
NgtObject3dControllerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtObject3dControllerModule });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtObject3dControllerModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [NgtObject3dController],
                    exports: [NgtObject3dController],
                }]
        }] });
export const [NGT_OBJECT_WATCHED_CONTROLLER, NGT_OBJECT_CONTROLLER_PROVIDER] = createControllerProviderFactory({
    watchedControllerTokenName: 'Watched Object3dController',
    controller: NgtObject3dController,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib2JqZWN0LTNkLmNvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9saWIvY29udHJvbGxlcnMvb2JqZWN0LTNkLmNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxZQUFZO0FBQ1osT0FBTyxFQUNMLFNBQVMsRUFDVCxZQUFZLEVBQ1osTUFBTSxFQUNOLFFBQVEsRUFDUixNQUFNLEVBRU4sUUFBUSxFQUNSLE1BQU0sRUFDTixRQUFRLEdBQ1QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3ZELE9BQU8sRUFBZ0IsSUFBSSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBUTFDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2xELE9BQU8sRUFDTCw0Q0FBNEMsRUFDNUMsMkNBQTJDLEVBQzNDLGdDQUFnQyxHQUNqQyxNQUFNLG1DQUFtQyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsK0JBQStCLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDM0UsT0FBTyxFQUNMLHFDQUFxQyxFQUNyQyxvQ0FBb0MsRUFDcEMsMkJBQTJCLEdBQzVCLE1BQU0sK0JBQStCLENBQUM7Ozs7OztBQUV2QyxNQUFNLGVBQWUsR0FBRztJQUN0QixPQUFPO0lBQ1AsYUFBYTtJQUNiLFVBQVU7SUFDVixXQUFXO0lBQ1gsYUFBYTtJQUNiLGFBQWE7SUFDYixZQUFZO0lBQ1osY0FBYztJQUNkLGNBQWM7SUFDZCxhQUFhO0lBQ2IsZUFBZTtJQUNmLGVBQWU7SUFDZixPQUFPO0NBQ0MsQ0FBQztBQThDWCxNQUFNLE9BQU8scUJBQXNCLFNB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LFFBQVE7bUJBQUM7b0JBQ1IsWUFBWSxFQUFFLENBQUMscUJBQXFCLENBQUM7b0JBQ3JDLE9BQU8sRUFBRSxDQUFDLHFCQUFxQixDQUFDO2lCQUNqQzs7QUFHRCxNQUFNLENBQUMsTUFBTSxDQUFDLDZCQUE2QixFQUFFLDhCQUE4QixDQUFDLEdBQzFFLCtCQUErQixDQUFDO0lBQzlCLDBCQUEwQixFQUFFLDRCQUE0QjtJQUN4RCxVQUFVLEVBQUUscUJBQXFCO0NBQ2xDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdFTkVSQVRFRFxuaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFdmVudEVtaXR0ZXIsXG4gIEluamVjdCxcbiAgTmdNb2R1bGUsXG4gIE5nWm9uZSxcbiAgT25EZXN0cm95LFxuICBPcHRpb25hbCxcbiAgT3V0cHV0LFxuICBTa2lwU2VsZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAnQHJ4LWFuZ3VsYXIvY2RrL3pvbmUtbGVzcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIHRha2UgfSBmcm9tICdyeGpzJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7XG4gIE5ndEV2ZW50LFxuICBOZ3RFdmVudEhhbmRsZXJzLFxuICBOZ3RJbnN0YW5jZUludGVybmFsLFxuICBVbmtub3duUmVjb3JkLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBOZ3RFdmVudHNTdG9yZSB9IGZyb20gJy4uL3N0b3Jlcy9ldmVudHMuc3RvcmUnO1xuaW1wb3J0IHsgTmd0U3RvcmUgfSBmcm9tICcuLi9zdG9yZXMvc3RvcmUnO1xuaW1wb3J0IHsgYXBwbHlQcm9wcyB9IGZyb20gJy4uL3V0aWxzL2FwcGx5LXByb3BzJztcbmltcG9ydCB7XG4gIE5HVF9BTklNQVRJT05fU1VCU0NSSUJFUl9DT05UUk9MTEVSX1BST1ZJREVSLFxuICBOR1RfQU5JTUFUSU9OX1NVQlNDUklCRVJfV0FUQ0hFRF9DT05UUk9MTEVSLFxuICBOZ3RBbmltYXRpb25TdWJzY3JpYmVyQ29udHJvbGxlcixcbn0gZnJvbSAnLi9hbmltYXRpb24tc3Vic2NyaWJlci5jb250cm9sbGVyJztcbmltcG9ydCB7IENvbnRyb2xsZXIsIGNyZWF0ZUNvbnRyb2xsZXJQcm92aWRlckZhY3RvcnkgfSBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IHtcbiAgTkdUX09CSkVDVF9JTlBVVFNfQ09OVFJPTExFUl9QUk9WSURFUixcbiAgTkdUX09CSkVDVF9JTlBVVFNfV0FUQ0hFRF9DT05UUk9MTEVSLFxuICBOZ3RPYmplY3QzZElucHV0c0NvbnRyb2xsZXIsXG59IGZyb20gJy4vb2JqZWN0LTNkLWlucHV0cy5jb250cm9sbGVyJztcblxuY29uc3Qgc3VwcG9ydGVkRXZlbnRzID0gW1xuICAnY2xpY2snLFxuICAnY29udGV4dG1lbnUnLFxuICAnZGJsY2xpY2snLFxuICAncG9pbnRlcnVwJyxcbiAgJ3BvaW50ZXJkb3duJyxcbiAgJ3BvaW50ZXJvdmVyJyxcbiAgJ3BvaW50ZXJvdXQnLFxuICAncG9pbnRlcmVudGVyJyxcbiAgJ3BvaW50ZXJsZWF2ZScsXG4gICdwb2ludGVybW92ZScsXG4gICdwb2ludGVybWlzc2VkJyxcbiAgJ3BvaW50ZXJjYW5jZWwnLFxuICAnd2hlZWwnLFxuXSBhcyBjb25zdDtcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiBgXG4gICAgbmd0LXByaW1pdGl2ZSxcbiAgICBuZ3QtYm9uZSxcbiAgICBuZ3QtZ3JvdXAsXG4gICAgbmd0LWxvZCxcbiAgICBuZ3QtcG9pbnRzLFxuICAgIG5ndC1tZXNoLFxuICAgIG5ndC1pbnN0YW5jZWQtbWVzaCxcbiAgICBuZ3Qtc2tpbm5lZC1tZXNoLFxuICAgIG5ndC1hdWRpbyxcbiAgICBuZ3QtcG9zaXRpb25hbC1hdWRpbyxcbiAgICBuZ3QtbGluZSxcbiAgICBuZ3QtbGluZS1sb29wLFxuICAgIG5ndC1saW5lLXNlZ21lbnRzLFxuICAgIG5ndC1saWdodC1wcm9iZSxcbiAgICBuZ3QtYW1iaWVudC1saWdodCxcbiAgICBuZ3QtYW1iaWVudC1saWdodC1wcm9iZSxcbiAgICBuZ3QtaGVtaXNwaGVyZS1saWdodCxcbiAgICBuZ3QtaGVtaXNwaGVyZS1saWdodC1wcm9iZSxcbiAgICBuZ3QtZGlyZWN0aW9uYWwtbGlnaHQsXG4gICAgbmd0LXBvaW50LWxpZ2h0LFxuICAgIG5ndC1zcG90LWxpZ2h0LFxuICAgIG5ndC1yZWN0LWFyZWEtbGlnaHQsXG4gICAgbmd0LWFycm93LWhlbHBlcixcbiAgICBuZ3QtYXhlcy1oZWxwZXIsXG4gICAgbmd0LWJveDMtaGVscGVyLFxuICAgIG5ndC1ncmlkLWhlbHBlcixcbiAgICBuZ3QtcGxhbmUtaGVscGVyLFxuICAgIG5ndC1wb2xhci1ncmlkLWhlbHBlcixcbiAgICBuZ3Qtc3ByaXRlLFxuICAgIG5ndC1jYW1lcmEsXG4gICAgbmd0LXBlcnNwZWN0aXZlLWNhbWVyYSxcbiAgICBuZ3Qtb3J0aG9ncmFwaGljLWNhbWVyYSxcbiAgICBuZ3QtYXJyYXktY2FtZXJhLFxuICAgIG5ndC1zdGVyZW8tY2FtZXJhLFxuICAgIG5ndC1jdWJlLWNhbWVyYVxuICBgLFxuICBleHBvcnRBczogJ25ndE9iamVjdDNkQ29udHJvbGxlcicsXG4gIHByb3ZpZGVyczogW1xuICAgIE5HVF9PQkpFQ1RfSU5QVVRTX0NPTlRST0xMRVJfUFJPVklERVIsXG4gICAgTkdUX0FOSU1BVElPTl9TVUJTQ1JJQkVSX0NPTlRST0xMRVJfUFJPVklERVIsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIE5ndE9iamVjdDNkQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xuICBAT3V0cHV0KCkgcmVhZHkgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgI29iamVjdDNkPzogVEhSRUUuT2JqZWN0M0Q7XG4gICNpbnB1dENoYW5nZXNTdWJzY3JpcHRpb24/OiBTdWJzY3JpcHRpb247XG4gICNvYmplY3QzZElucHV0c0NvbnRyb2xsZXIhOiBOZ3RPYmplY3QzZElucHV0c0NvbnRyb2xsZXI7XG5cbiAgI2luaXRGbj86ICgpID0+IFRIUkVFLk9iamVjdDNEO1xuXG4gIHNldCBpbml0Rm4odjogKCkgPT4gVEhSRUUuT2JqZWN0M0QpIHtcbiAgICB0aGlzLiNpbml0Rm4gPSB2O1xuICB9XG5cbiAgZ2V0IGluaXRGbigpIHtcbiAgICBpZiAoIXRoaXMuI2luaXRGbikge1xuICAgICAgdGhpcy5pbml0Rm4gPSAoKSA9PiB0aGlzLm9iamVjdDNkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy4jaW5pdEZuIGFzICgpID0+IFRIUkVFLk9iamVjdDNEO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbmdab25lOiBOZ1pvbmUsXG4gICAgcHJpdmF0ZSBzdG9yZTogTmd0U3RvcmUsXG4gICAgcHJpdmF0ZSBldmVudHNTdG9yZTogTmd0RXZlbnRzU3RvcmUsXG4gICAgQEluamVjdChOR1RfT0JKRUNUX0lOUFVUU19XQVRDSEVEX0NPTlRST0xMRVIpXG4gICAgcHJpdmF0ZSBvYmplY3RJbnB1dHNDb250cm9sbGVyOiBOZ3RPYmplY3QzZElucHV0c0NvbnRyb2xsZXIsXG4gICAgQEluamVjdChOR1RfQU5JTUFUSU9OX1NVQlNDUklCRVJfV0FUQ0hFRF9DT05UUk9MTEVSKVxuICAgIHByaXZhdGUgYW5pbWF0aW9uU3Vic2NyaWJlckNvbnRyb2xsZXI6IE5ndEFuaW1hdGlvblN1YnNjcmliZXJDb250cm9sbGVyLFxuICAgIEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHByaXZhdGUgcGFyZW50T2JqZWN0M2Q6IE5ndE9iamVjdDNkQ29udHJvbGxlclxuICApIHtcbiAgICBzdXBlcihuZ1pvbmUpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy4jb2JqZWN0M2RJbnB1dHNDb250cm9sbGVyID1cbiAgICAgIHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5vYmplY3QzZElucHV0c0NvbnRyb2xsZXIgPz9cbiAgICAgIHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlcjtcbiAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgIHRoaXMuI2lucHV0Q2hhbmdlc1N1YnNjcmlwdGlvbiA9XG4gICAgICB0aGlzLiNvYmplY3QzZElucHV0c0NvbnRyb2xsZXIuY2hhbmdlJC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5vYmplY3QzZCkge1xuICAgICAgICAgIHRoaXMuI2FwcGx5Q3VzdG9tUHJvcHMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgIHRoaXMuI29iamVjdDNkID0gdGhpcy5pbml0Rm4oKTtcbiAgICAgIGlmICh0aGlzLm9iamVjdDNkKSB7XG4gICAgICAgIHRoaXMuI2FwcGx5Q3VzdG9tUHJvcHMoKTtcblxuICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBjb25zdCBvYnNlcnZlZEV2ZW50cyA9IHN1cHBvcnRlZEV2ZW50cy5yZWR1Y2UoXG4gICAgICAgICAgICAocmVzdWx0LCBldmVudCkgPT4ge1xuICAgICAgICAgICAgICBpZiAodGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyW2V2ZW50XS5vYnNlcnZlZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5oYW5kbGVyc1tldmVudF0gPSB0aGlzLiNldmVudE5hbWVUb0hhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5ldmVudENvdW50ICs9IDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IGhhbmRsZXJzOiB7fSwgZXZlbnRDb3VudDogMCB9IGFzIHtcbiAgICAgICAgICAgICAgaGFuZGxlcnM6IE5ndEV2ZW50SGFuZGxlcnM7XG4gICAgICAgICAgICAgIGV2ZW50Q291bnQ6IG51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gc2V0dXAgX19uZ3QgaW5zdGFuY2VcbiAgICAgICAgICBhcHBseVByb3BzKHRoaXMub2JqZWN0M2QsIHtcbiAgICAgICAgICAgIF9fbmd0OiB7XG4gICAgICAgICAgICAgIHN0YXRlR2V0dGVyOiAoKSA9PiB0aGlzLnN0b3JlLmdldCgpLFxuICAgICAgICAgICAgICBldmVudHNTdGF0ZUdldHRlcjogKCkgPT4gdGhpcy5ldmVudHNTdG9yZS5nZXQoKSxcbiAgICAgICAgICAgICAgaGFuZGxlcnM6IG9ic2VydmVkRXZlbnRzLmhhbmRsZXJzLFxuICAgICAgICAgICAgICBldmVudENvdW50OiBvYnNlcnZlZEV2ZW50cy5ldmVudENvdW50LFxuICAgICAgICAgICAgICBsaW5lYXI6IHRoaXMuc3RvcmUuZ2V0KCdsaW5lYXInKSxcbiAgICAgICAgICAgIH0gYXMgTmd0SW5zdGFuY2VJbnRlcm5hbCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIGFkZCBhcyBhbiBpbnRlcmFjdGlvbiBpZiB0aGVyZSBhcmUgZXZlbnRzIG9ic2VydmVkXG4gICAgICAgICAgaWYgKG9ic2VydmVkRXZlbnRzLmV2ZW50Q291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1N0b3JlLmFkZEludGVyYWN0aW9uKHRoaXMub2JqZWN0M2QpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc3RvcmUuc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgb2JqZWN0czogeyAuLi5zdGF0ZS5vYmplY3RzLCBbdGhpcy5vYmplY3QzZC51dWlkXTogdGhpcy5vYmplY3QzZCB9LFxuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGlmICh0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIuYXBwZW5kTW9kZSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICB0aGlzLiNhcHBlbmRUb1BhcmVudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI29iamVjdFJlYWR5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAjb2JqZWN0UmVhZHkoKSB7XG4gICAgdGhpcy5yZWFkeS5lbWl0KCk7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uU3Vic2NyaWJlckNvbnRyb2xsZXIpIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uU3Vic2NyaWJlckNvbnRyb2xsZXIucHJlcGFyZSh0aGlzLm9iamVjdDNkKTtcbiAgICB9XG4gIH1cblxuICAjYXBwZW5kVG9QYXJlbnQoKTogdm9pZCB7XG4gICAgLy8gU2NoZWR1bGUgdGhpcyBpbiB0aGUgbmV4dCBsb29wIHRvIGFsbG93IGZvciBhbGwgYXBwZW5kVG8ncyB0byBzZXR0bGVcbiAgICAvLyBUT0RPOiBmaW5kIGJldHRlciB3YXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIuYXBwZW5kVG8pIHtcbiAgICAgICAgdGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLmFwcGVuZFRvLmFkZCh0aGlzLm9iamVjdDNkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLmFwcGVuZE1vZGUgPT09ICdyb290Jykge1xuICAgICAgICB0aGlzLiNhZGRUb1NjZW5lKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5hcHBlbmRNb2RlID09PSAnaW1tZWRpYXRlJykge1xuICAgICAgICB0aGlzLiNhZGRUb1BhcmVudCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgI2FkZFRvU2NlbmUoKSB7XG4gICAgY29uc3Qgc2NlbmUgPSB0aGlzLnN0b3JlLmdldCgnc2NlbmUnKTtcbiAgICBpZiAoc2NlbmUpIHtcbiAgICAgIHNjZW5lLmFkZCh0aGlzLm9iamVjdDNkKTtcbiAgICB9XG4gIH1cblxuICAjYWRkVG9QYXJlbnQoKSB7XG4gICAgaWYgKHRoaXMucGFyZW50T2JqZWN0M2QpIHtcbiAgICAgIHRoaXMucGFyZW50T2JqZWN0M2Qub2JqZWN0M2QuYWRkKHRoaXMub2JqZWN0M2QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNhZGRUb1NjZW5lKCk7XG4gICAgfVxuICB9XG5cbiAgI3JlbW92ZSgpIHtcbiAgICBpZiAodGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLmFwcGVuZFRvKSB7XG4gICAgICB0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIuYXBwZW5kVG8ucmVtb3ZlKHRoaXMub2JqZWN0M2QpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLnBhcmVudE9iamVjdDNkICYmXG4gICAgICB0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIuYXBwZW5kTW9kZSA9PT0gJ2ltbWVkaWF0ZSdcbiAgICApIHtcbiAgICAgIHRoaXMucGFyZW50T2JqZWN0M2Qub2JqZWN0M2QucmVtb3ZlKHRoaXMub2JqZWN0M2QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzY2VuZSA9IHRoaXMuc3RvcmUuZ2V0KCdzY2VuZScpO1xuICAgICAgaWYgKHNjZW5lKSB7XG4gICAgICAgIHNjZW5lLnJlbW92ZSh0aGlzLm9iamVjdDNkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5vYmplY3QzZC5jbGVhcikge1xuICAgICAgdGhpcy5vYmplY3QzZC5jbGVhcigpO1xuICAgIH1cbiAgfVxuXG4gICNldmVudE5hbWVUb0hhbmRsZXIoZXZlbnROYW1lOiB0eXBlb2Ygc3VwcG9ydGVkRXZlbnRzW251bWJlcl0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgZXZlbnQ6IFBhcmFtZXRlcnM8XG4gICAgICAgIEV4Y2x1ZGU8Tmd0RXZlbnRIYW5kbGVyc1t0eXBlb2YgZXZlbnROYW1lXSwgdW5kZWZpbmVkPlxuICAgICAgPlswXVxuICAgICkgPT4ge1xuICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyW2V2ZW50TmFtZV0uZW1pdChldmVudCBhcyBOZ3RFdmVudDxhbnk+KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICAjYXBwbHlDdXN0b21Qcm9wcygpIHtcbiAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICBjb25zdCBjdXN0b21Qcm9wcyA9IHtcbiAgICAgICAgY2FzdFNoYWRvdzogdGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLmNhc3RTaGFkb3csXG4gICAgICAgIHJlY2VpdmVTaGFkb3c6IHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5yZWNlaXZlU2hhZG93LFxuICAgICAgICB2aXNpYmxlOiB0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIudmlzaWJsZSxcbiAgICAgICAgbWF0cml4QXV0b1VwZGF0ZTogdGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLm1hdHJpeEF1dG9VcGRhdGUsXG4gICAgICB9IGFzIFVua25vd25SZWNvcmQ7XG5cbiAgICAgIGlmICh0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIubmFtZSkge1xuICAgICAgICBjdXN0b21Qcm9wc1snbmFtZSddID0gdGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLm5hbWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIucG9zaXRpb24pIHtcbiAgICAgICAgY3VzdG9tUHJvcHNbJ3Bvc2l0aW9uJ10gPSB0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIucG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIucm90YXRpb24pIHtcbiAgICAgICAgY3VzdG9tUHJvcHNbJ3JvdGF0aW9uJ10gPSB0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIucm90YXRpb247XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5xdWF0ZXJuaW9uKSB7XG4gICAgICAgIGN1c3RvbVByb3BzWydxdWF0ZXJuaW9uJ10gPSB0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIucXVhdGVybmlvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5zY2FsZSkge1xuICAgICAgICBjdXN0b21Qcm9wc1snc2NhbGUnXSA9IHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5zY2FsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci51c2VyRGF0YSkge1xuICAgICAgICBjdXN0b21Qcm9wc1sndXNlckRhdGEnXSA9IHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci51c2VyRGF0YTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5jb2xvcikge1xuICAgICAgICBjdXN0b21Qcm9wc1snY29sb3InXSA9IHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5jb2xvcjtcbiAgICAgICAgaWYgKCF0aGlzLnN0b3JlLmdldCgnbGluZWFyJykpIHtcbiAgICAgICAgICAoY3VzdG9tUHJvcHNbJ2NvbG9yJ10gYXMgVEhSRUUuQ29sb3IpLmNvbnZlcnRTUkdCVG9MaW5lYXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLmRpc3Bvc2UpIHtcbiAgICAgICAgY3VzdG9tUHJvcHNbJ2Rpc3Bvc2UnXSA9IHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5kaXNwb3NlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vYmplY3RJbnB1dHNDb250cm9sbGVyLnJheWNhc3QpIHtcbiAgICAgICAgY3VzdG9tUHJvcHNbJ3JheWNhc3QnXSA9IHRoaXMub2JqZWN0SW5wdXRzQ29udHJvbGxlci5yYXljYXN0O1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9iamVjdElucHV0c0NvbnRyb2xsZXIuY2hhbmdlJC5waXBlKHRha2UoMSkpLnN1YnNjcmliZSgoY2hhbmdlcykgPT4ge1xuICAgICAgICBpZiAoY2hhbmdlcykge1xuICAgICAgICAgIGZvciAoY29uc3QgW2lucHV0TmFtZSwgaW5wdXRDaGFuZ2VdIG9mIE9iamVjdC5lbnRyaWVzKGNoYW5nZXMpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFpbnB1dENoYW5nZS5pc0ZpcnN0Q2hhbmdlKCkgfHxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICduYW1lJyxcbiAgICAgICAgICAgICAgICAncG9zaXRpb24nLFxuICAgICAgICAgICAgICAgICdyb3RhdGlvbicsXG4gICAgICAgICAgICAgICAgJ3F1YXRlcm5pb24nLFxuICAgICAgICAgICAgICAgICdzY2FsZScsXG4gICAgICAgICAgICAgICAgJ3VzZXJEYXRhJyxcbiAgICAgICAgICAgICAgICAnY29sb3InLFxuICAgICAgICAgICAgICAgICdkaXNwb3NlJyxcbiAgICAgICAgICAgICAgICAncmF5Y2FzdCcsXG4gICAgICAgICAgICAgICAgJ2Nhc3RTaGFkb3cnLFxuICAgICAgICAgICAgICAgICdyZWNlaXZlU2hhZG93JyxcbiAgICAgICAgICAgICAgICAndmlzaWJsZScsXG4gICAgICAgICAgICAgICAgJ21hdHJpeEF1dG9VcGRhdGUnLFxuICAgICAgICAgICAgICAgICdvYmplY3QzZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICBdLmluY2x1ZGVzKGlucHV0TmFtZSkgLy8gc2tpcCAxNCBjb21tb24gaW5wdXRzXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXN0b21Qcm9wc1tpbnB1dE5hbWVdID0gaW5wdXRDaGFuZ2UuY3VycmVudFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGFwcGx5UHJvcHModGhpcy5vYmplY3QzZCwgY3VzdG9tUHJvcHMpO1xuICAgICAgdGhpcy5vYmplY3QzZC51cGRhdGVNYXRyaXg/LigpO1xuICAgIH0pO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuI2lucHV0Q2hhbmdlc1N1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy4jaW5wdXRDaGFuZ2VzU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub2JqZWN0M2QpIHtcbiAgICAgIHRoaXMuI3JlbW92ZSgpO1xuICAgICAgdGhpcy5zdG9yZS5zZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgW3RoaXMub2JqZWN0M2QudXVpZF06IF8sIC4uLm9iamVjdHMgfSA9IHN0YXRlLm9iamVjdHM7XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBvYmplY3RzIH07XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZXZlbnRzU3RvcmUucmVtb3ZlSW50ZXJhY3Rpb24odGhpcy5vYmplY3QzZC51dWlkKTtcbiAgICB9XG4gIH1cblxuICBnZXQgb2JqZWN0M2QoKTogVEhSRUUuT2JqZWN0M0Qge1xuICAgIHJldHVybiB0aGlzLiNvYmplY3QzZCBhcyBUSFJFRS5PYmplY3QzRDtcbiAgfVxuXG4gIGdldCBjb250cm9sbGVyKCk6IENvbnRyb2xsZXIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgcHJvcHMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtOZ3RPYmplY3QzZENvbnRyb2xsZXJdLFxuICBleHBvcnRzOiBbTmd0T2JqZWN0M2RDb250cm9sbGVyXSxcbn0pXG5leHBvcnQgY2xhc3MgTmd0T2JqZWN0M2RDb250cm9sbGVyTW9kdWxlIHt9XG5cbmV4cG9ydCBjb25zdCBbTkdUX09CSkVDVF9XQVRDSEVEX0NPTlRST0xMRVIsIE5HVF9PQkpFQ1RfQ09OVFJPTExFUl9QUk9WSURFUl0gPVxuICBjcmVhdGVDb250cm9sbGVyUHJvdmlkZXJGYWN0b3J5KHtcbiAgICB3YXRjaGVkQ29udHJvbGxlclRva2VuTmFtZTogJ1dhdGNoZWQgT2JqZWN0M2RDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyOiBOZ3RPYmplY3QzZENvbnRyb2xsZXIsXG4gIH0pO1xuIl19