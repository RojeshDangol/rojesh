var _NgtPrimitive_object;
import { __classPrivateFieldGet, __classPrivateFieldSet } from "tslib";
import { NGT_OBJECT_CONTROLLER_PROVIDER, NGT_OBJECT_WATCHED_CONTROLLER, NgtObject3dController, } from '@angular-three/core';
import { Directive, Inject, Input, NgModule, NgZone } from '@angular/core';
import * as THREE from 'three';
import * as i0 from "@angular/core";
import * as i1 from "@angular-three/core";
export class NgtPrimitive {
    constructor(objectController, ngZone) {
        this.objectController = objectController;
        this.ngZone = ngZone;
        _NgtPrimitive_object.set(this, void 0);
    }
    set object(value) {
        __classPrivateFieldSet(this, _NgtPrimitive_object, value, "f");
        this.objectController.initFn = () => value;
    }
    get object() {
        return __classPrivateFieldGet(this, _NgtPrimitive_object, "f");
    }
    ngOnChanges() {
        this.ngZone.runOutsideAngular(() => {
            this.objectController.init();
        });
    }
}
_NgtPrimitive_object = new WeakMap();
NgtPrimitive.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtPrimitive, deps: [{ token: NGT_OBJECT_WATCHED_CONTROLLER }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Directive });
NgtPrimitive.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "12.0.0", version: "13.0.3", type: NgtPrimitive, selector: "ngt-primitive[object]", inputs: { object: "object" }, providers: [NGT_OBJECT_CONTROLLER_PROVIDER], exportAs: ["ngtPrimitive"], usesOnChanges: true, ngImport: i0 });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtPrimitive, decorators: [{
            type: Directive,
            args: [{
                    selector: 'ngt-primitive[object]',
                    exportAs: 'ngtPrimitive',
                    providers: [NGT_OBJECT_CONTROLLER_PROVIDER],
                }]
        }], ctorParameters: function () { return [{ type: i1.NgtObject3dController, decorators: [{
                    type: Inject,
                    args: [NGT_OBJECT_WATCHED_CONTROLLER]
                }] }, { type: i0.NgZone }]; }, propDecorators: { object: [{
                type: Input
            }] } });
export class NgtPrimitiveModule {
}
NgtPrimitiveModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtPrimitiveModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
NgtPrimitiveModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtPrimitiveModule, declarations: [NgtPrimitive], exports: [NgtPrimitive] });
NgtPrimitiveModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtPrimitiveModule });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.0.3", ngImport: i0, type: NgtPrimitiveModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [NgtPrimitive],
                    exports: [NgtPrimitive],
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpbWl0aXZlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvcHJpbWl0aXZlL3NyYy9saWIvcHJpbWl0aXZlLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE9BQU8sRUFDTCw4QkFBOEIsRUFDOUIsNkJBQTZCLEVBQzdCLHFCQUFxQixHQUN0QixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNFLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDOzs7QUFPL0IsTUFBTSxPQUFPLFlBQVk7SUFZdkIsWUFFVSxnQkFBdUMsRUFDdkMsTUFBYztRQURkLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBdUI7UUFDdkMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQWR4Qix1Q0FBeUI7SUFldEIsQ0FBQztJQWJKLElBQWEsTUFBTSxDQUFDLEtBQXFCO1FBQ3ZDLHVCQUFBLElBQUksd0JBQVcsS0FBSyxNQUFBLENBQUM7UUFDckIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7SUFDN0MsQ0FBQztJQUVELElBQUksTUFBTTtRQUNSLE9BQU8sdUJBQUEsSUFBSSw0QkFBUSxDQUFDO0lBQ3RCLENBQUM7SUFRRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUU7WUFDakMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzs7O3lHQXRCVSxZQUFZLGtCQWFiLDZCQUE2Qjs2RkFiNUIsWUFBWSw4RUFGWixDQUFDLDhCQUE4QixDQUFDOzJGQUVoQyxZQUFZO2tCQUx4QixTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSx1QkFBdUI7b0JBQ2pDLFFBQVEsRUFBRSxjQUFjO29CQUN4QixTQUFTLEVBQUUsQ0FBQyw4QkFBOEIsQ0FBQztpQkFDNUM7OzBCQWNJLE1BQU07MkJBQUMsNkJBQTZCO2lFQVYxQixNQUFNO3NCQUFsQixLQUFLOztBQTBCUixNQUFNLE9BQU8sa0JBQWtCOzsrR0FBbEIsa0JBQWtCO2dIQUFsQixrQkFBa0IsaUJBN0JsQixZQUFZLGFBQVosWUFBWTtnSEE2Qlosa0JBQWtCOzJGQUFsQixrQkFBa0I7a0JBSjlCLFFBQVE7bUJBQUM7b0JBQ1IsWUFBWSxFQUFFLENBQUMsWUFBWSxDQUFDO29CQUM1QixPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUM7aUJBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgTkdUX09CSkVDVF9DT05UUk9MTEVSX1BST1ZJREVSLFxuICBOR1RfT0JKRUNUX1dBVENIRURfQ09OVFJPTExFUixcbiAgTmd0T2JqZWN0M2RDb250cm9sbGVyLFxufSBmcm9tICdAYW5ndWxhci10aHJlZS9jb3JlJztcbmltcG9ydCB7IERpcmVjdGl2ZSwgSW5qZWN0LCBJbnB1dCwgTmdNb2R1bGUsIE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICduZ3QtcHJpbWl0aXZlW29iamVjdF0nLFxuICBleHBvcnRBczogJ25ndFByaW1pdGl2ZScsXG4gIHByb3ZpZGVyczogW05HVF9PQkpFQ1RfQ09OVFJPTExFUl9QUk9WSURFUl0sXG59KVxuZXhwb3J0IGNsYXNzIE5ndFByaW1pdGl2ZSB7XG4gICNvYmplY3QhOiBUSFJFRS5PYmplY3QzRDtcblxuICBASW5wdXQoKSBzZXQgb2JqZWN0KHZhbHVlOiBUSFJFRS5PYmplY3QzRCkge1xuICAgIHRoaXMuI29iamVjdCA9IHZhbHVlO1xuICAgIHRoaXMub2JqZWN0Q29udHJvbGxlci5pbml0Rm4gPSAoKSA9PiB2YWx1ZTtcbiAgfVxuXG4gIGdldCBvYmplY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuI29iamVjdDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoTkdUX09CSkVDVF9XQVRDSEVEX0NPTlRST0xMRVIpXG4gICAgcHJpdmF0ZSBvYmplY3RDb250cm9sbGVyOiBOZ3RPYmplY3QzZENvbnRyb2xsZXIsXG4gICAgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZVxuICApIHt9XG5cbiAgbmdPbkNoYW5nZXMoKSB7XG4gICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgdGhpcy5vYmplY3RDb250cm9sbGVyLmluaXQoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtOZ3RQcmltaXRpdmVdLFxuICBleHBvcnRzOiBbTmd0UHJpbWl0aXZlXSxcbn0pXG5leHBvcnQgY2xhc3MgTmd0UHJpbWl0aXZlTW9kdWxlIHt9XG4iXX0=